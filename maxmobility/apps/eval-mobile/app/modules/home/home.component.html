<ActionBar class="action-bar" flat="true" [title]="'menu.home' | translate">
  <NavigationButton ios:visibility="collapsed" icon="res://menu" (tap)="onDrawerButtonTap()"></NavigationButton>
  <ActionItem icon="res://navigation/menu" android:visibility="collapsed" (tap)="onDrawerButtonTap()" ios.position="left"></ActionItem>
</ActionBar>

<StackLayout tkMainContent>
  <ScrollView class="main-scroll-view">
    <GridLayout rows="auto, auto, auto, auto, auto, auto" columns="*">

      //Connectivity
      <GridLayout rows="auto, auto, *" columns="*, auto" class="list-grid-layout" row="0">
        <Label row="0" col="0" [text]="'menu.connectivity' | translate" class="heading" (tap)="chevronButtonTapped('/pairing')"></Label>
        <Label row="0" col="1" horizontalAlignment="right" text="&#xf142;" class="mdi chev" (tap)="chevronButtonTapped('/pairing')"></Label>
        <Label row="1" [text]="'menu.con-desc' | translate" class="description" textWrap="true"></Label>

        <RadListView row="2" colSpan="2" ios:height="160" [items]="connectivityItems">
          <ng-template tkListItemTemplate let-item="item">
            <StackLayout class="icon-description-group">
              <Image [src]="item.Image" (tap)="connectivityThumbTapped(item)" stretch="aspectFill" class="thumb"></Image>
              <Label class="item-description" textWrap="true" [text]="item.Description | translate"></Label>
            </StackLayout>
          </ng-template>
          <ListViewLinearLayout tkListViewLayout itemHeight="150" itemWidth="165" scrollDirection="Horizontal"></ListViewLinearLayout>
        </RadListView>


      </GridLayout>

      // Videos
      <GridLayout rows="auto, auto, auto, *" columns="*, auto" class="list-grid-layout" row="2">
        <Label row="0" colSpan="2" class="hr-light m-10" backgroundColor="#FF671F" width="92.5%"></Label>
        <Label row="1" col="0" [text]="'menu.videos-title' | translate" class="heading" (tap)="chevronButtonTapped('/videos')"></Label>
        <Label row="1" col="1" horizontalAlignment="right" text="&#xf142;" class="mdi chev" (tap)="chevronButtonTapped('/videos')"></Label>
        <Label row="2" colSpan="2" [text]="'menu.videos-description' | translate" class="description" textWrap="true"></Label>

        <RadListView row="3" colSpan="2" ios:height="160" [items]="videoItems">
          <ng-template tkListItemTemplate let-item="item">
            <GridLayout rows="auto, auto" columns="*" class="video-layout">
              <GridLayout row="0" class="video-title" (tap)="videoThumbTapped(item)">
                <Label textWrap="true" [text]="item.Title"></Label>
              </GridLayout>
            </GridLayout>
          </ng-template>
          <ListViewLinearLayout tkListViewLayout itemHeight="160" itemWidth="165" scrollDirection="Horizontal"></ListViewLinearLayout>
        </RadListView>
      </GridLayout>

      // Evaluation-Clinical Tools
      <GridLayout rows="auto, auto, auto, *" columns="*, auto" class="list-grid-layout" row="3">
        <Label row="0" colSpan="2" class="hr-light m-10" backgroundColor="#FF671F" width="92.5%"></Label>
        <Label row="1" col="0" [text]="'menu.clinical-tools' | translate" class="heading" (tap)="chevronButtonTapped('/eval-entry')"></Label>
        <Label row="1" col="1" horizontalAlignment="right" text="&#xf142;" class="mdi chev" (tap)="chevronButtonTapped('/eval-entry')"></Label>
        <Label row="2" colSpan="2" [text]="'menu.clinical-tools-desc' | translate" class="description" textWrap="true"></Label>

        <RadListView row="3" colSpan="2" ios:height="160" [items]="evalItems">
          <ng-template tkListItemTemplate let-item="item">
            <StackLayout class="icon-description-group">
              <Image [src]="item.Image" (tap)="evalThumbTapped(item)" class="thumb"></Image>
              <Label class="item-description" textWrap="true" [text]="item.Description | translate"></Label>
            </StackLayout>
          </ng-template>
          <ListViewLinearLayout tkListViewLayout itemHeight="160" itemWidth="150" scrollDirection="Horizontal"></ListViewLinearLayout>
        </RadListView>
      </GridLayout>

      // Demos
      <GridLayout rows="auto, auto, auto, *" columns="*, auto" class="list-grid-layout" row="4">
        <Label row="0" colSpan="2" class="hr-light m-10" backgroundColor="#FF671F" width="92.5%"></Label>
        <Label row="1" col="0" [text]="'menu.demos' | translate" class="heading" (tap)="chevronButtonTapped('/demos')"></Label>
        <Label row="1" col="1" horizontalAlignment="right" text="&#xf142;" class="mdi chev" (tap)="chevronButtonTapped('/demos')"></Label>
        <Label row="2" colSpan="2" [text]="'menu.demos-desc' | translate" class="description" textWrap="true"></Label>

        <StackLayout row="3" colSpan="2" *ngIf="!Demos.length" class="icon-description-group" horizontalAlignment="left">
          <Image src="~/assets/images/PushTracker-SmartDrive-pairing.png" (tap)="demoThumbTapped(null)" backgroundImage="~/assets/images/background_1.jpg"
            stretch="aspectFill" class="thumb"></Image>
          <StackLayout>
            <Label class="demo-item-description" textWrap="true" [text]="'menu.new-demo' | translate"></Label>
          </StackLayout>
        </StackLayout>

        <RadListView row="3" colSpan="2" ios:height="160" [items]="Demos._array" *ngIf="Demos.length">
          <ng-template tkListItemTemplate let-item="item">
            <StackLayout class="icon-description-group">
              <Image *ngIf="!item.sd_image" src="~/assets/images/PushTracker-SmartDrive-pairing.png" (tap)="demoThumbTapped(item)" backgroundImage="~/assets/images/background_1.jpg"
                stretch="aspectFill" class="thumb"></Image>
              <Image *ngIf="item.sd_image" class="thumb" [src]="item.sd_image" stretch="aspectFill"></Image>
              <StackLayout>
                <Label class="demo-item-description" textWrap="true" [text]="(item.smartdrive_serial_number || '# ??')"></Label>
                <Label class="demo-item-description" textWrap="true" [text]="item.location_string"></Label>
                <Label class="demo-item-description" textWrap="true" [backgroundColor]="(item.isUpToDate(currentVersion)) ? 'green' : 'red'">
                  <FormattedString>
                    <Span [text]="item.version_string"></Span>
                    <Span class="mdi" [text]="' ' + item.version_badge(currentVersion)"></Span>
                  </FormattedString>
                </Label>
              </StackLayout>
            </StackLayout>
          </ng-template>
          <ListViewLinearLayout tkListViewLayout scrollDirection="Horizontal"></ListViewLinearLayout>
        </RadListView>

      </GridLayout>

      // FAQs
      <GridLayout rows="auto, auto, auto, *" columns="*, auto" class="list-grid-layout" row="5">
        <Label row="0" colSpan="2" class="hr-light m-10" backgroundColor="#FF671F" width="92.5%"></Label>
        <Label row="1" col="0" [text]="'menu.faq' | translate" class="heading" (tap)="chevronButtonTapped('/faq')"></Label>
        <Label row="1" col="1" horizontalAlignment="right" text="&#xf142;" class="mdi chev" (tap)="chevronButtonTapped('/faq')"></Label>
        <Label row="2" [text]="'menu.faq-desc' | translate" class="description" textWrap="true"></Label>

        <RadListView row="3" colSpan="2" ios:height="160" [items]="faqItems">
          <ng-template tkListItemTemplate let-item="item">
            <GridLayout rows="*" columns="*" (tap)="faqThumbTapped(item)" class="thumb" verticalAlign="center" backgroundSize="cover"
              backgroundImage="~/assets/images/background_1.jpg" stretch="aspectFill">
              <Label row="0" [text]="item.question" class="faq-question" textWrap="true"></Label>
            </GridLayout>
          </ng-template>
          <ListViewLinearLayout tkListViewLayout itemHeight="160" itemWidth="160" scrollDirection="Horizontal"></ListViewLinearLayout>
        </RadListView>
      </GridLayout>

    </GridLayout>
  </ScrollView>
</StackLayout>