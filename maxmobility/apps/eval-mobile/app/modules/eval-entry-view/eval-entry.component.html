<ActionBar class="action-bar" flat="true" [title]="'eval-entry.title' | translate">
  <NavigationButton android:visibility="collapse" tap="onNavBtnTap"></NavigationButton>
</ActionBar>

<Gradient tkMainContent direction="to bottom" colors="#004F7E, #0070b3">
  <GridLayout rows="auto, *" cols="*" width="100%">
    <StackLayout backgroundImage="~/assets/images/background_1.jpg" row="0" class="gridImage" height="20%" width="100%" orientation="horizontal"
      horizontalAlignment="center">
      <Image src="~/assets/images/evaluation-start.png" stretch="aspectFit"></Image>
    </StackLayout>

    <ScrollView row="1" class="" orientation="vertical">
      <StackLayout class="eval-stack-layout" width="100%">
        // Title
        <Label [text]="'eval-entry.heading' | translate" class="heading" textWrap="true"></Label>
        // PAIN
        <GridLayout class="eval-item" rows="auto, auto" columns="*, auto">
          <Label row="0" col="0" class="eval-label" [text]="'eval-entry.pain-question' | translate" textWrap="true"></Label>
          <Switch row="0" col="1" (checkedChange)="onPushingPainChecked($event)" [checked]="hasPushingPain"></Switch>
          <GridLayout row="1" colSpan="2" *ngIf="hasPushingPain" class="eval-item" rows="auto, auto" columns="*, auto">
            <Label row="0" col="0" class="eval-slider-label" [text]="'eval-entry.pain-label' | translate" textWrap="true"></Label>
            <Label row="0" col="1" class="eval-slider-value-label" [text]="evaluation.pushing_pain.toFixed(0)+' / 10'"></Label>
            <Slider row="1" colSpan="2" maxValue="10" class="eval-slider" [value]="evaluation.pushing_pain" (valueChange)="onSliderUpdate('pushing_pain', $event)"></Slider>
          </GridLayout>
        </GridLayout>

        // FATIGUE
        <GridLayout class="eval-item" rows="auto, auto" columns="*, auto">
          <Label row="0" col="0" class="eval-label" [text]="'eval-entry.fatigue-question' | translate" textWrap="true"></Label>
          <Switch row="0" col="1" (checkedChange)="onPushingFatigueChecked($event)" [checked]="hasPushingFatigue"></Switch>
          <GridLayout row="1" colSpan="2" *ngIf="hasPushingFatigue" class="eval-item" rows="auto, auto" columns="*, auto">
            <Label row="0" col="0" class="eval-slider-label" [text]="'eval-entry.fatigue-label' | translate" textWrap="true"></Label>
            <Label row="0" col="1" class="eval-slider-value-label" [text]="evaluation.pushing_fatigue.toFixed(0)+' / 10'"></Label>
            <Slider row="1" colSpan="2" maxValue="10" class="eval-slider" [value]="evaluation.pushing_fatigue" (valueChange)="onSliderUpdate('pushing_fatigue', $event)"></Slider>
          </GridLayout>
        </GridLayout>

        // INDEPENDENCE
        <GridLayout class="eval-item" rows="auto, auto" columns="*, auto">
          <Label row="0" col="0" class="eval-label" [text]="'eval-entry.independence-question' | translate" textWrap="true"></Label>
          <Switch row="0" col="1" (checkedChange)="onIndependenceChecked($event)" [checked]="impactsIndependence"></Switch>
          <GridLayout row="1" colSpan="2" *ngIf="impactsIndependence" class="eval-item" rows="auto, auto" columns="*, auto">
            <Label row="0" col="0" class="eval-slider-label" [text]="'eval-entry.independence-label' | translate" textWrap="true"></Label>
            <Label row="0" col="1" class="eval-slider-value-label" [text]="evaluation.impact_on_independence.toFixed(0)+' / 10'"></Label>
            <Slider row="1" colSpan="2" maxValue="10" class="eval-slider" [value]="evaluation.impact_on_independence" (valueChange)="onSliderUpdate('impact_on_independence', $event)"></Slider>
          </GridLayout>
        </GridLayout>

        <GridLayout class="eval-item" rows="auto" columns="*, auto">
          <Label col="0" [text]="'eval-entry.years-question' | translate" class="eval-label" textWrap="true"></Label>
          <DropDown #yearDropdown col="1" [hint]="'eval-entry.years-label' | translate" class="dropdown" [items]="years" (selectedIndexChanged)="selectedIndexChanged('years',$event)"></DropDown>
        </GridLayout>

        <Button (tap)="onNext()" [text]="'buttons.next' | translate" class="nextButton"></Button>

      </StackLayout>
    </ScrollView>

  </GridLayout>
</Gradient>