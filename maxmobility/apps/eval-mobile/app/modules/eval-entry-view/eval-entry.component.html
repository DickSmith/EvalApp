<ActionBar class="action-bar" flat="true" title="Eval">
  <NavigationButton android.systemIcon="ic_menu_back" tap="onNavBtnTap"></NavigationButton>

  <ActionItem icon="res://navigation/menu" android:visibility="collapsed" (tap)="onDrawerButtonTap()" ios.position="left"></ActionItem>
</ActionBar>

<RadSideDrawer #drawer ios:showOverNavigation="true" android:showOverNavigation="false" [drawerTransition]="sideDrawerTransition">


  <StackLayout tkDrawerContent>
    <MyDrawer [selectedPage]="'Evaluation'"></MyDrawer>
  </StackLayout>
  <Gradient tkMainContent direction="to bottom" colors="#004F7E, #0070b3">
    <GridLayout rows="auto, *" cols="*" width="100%">
      <StackLayout
	backgroundImage="~/assets/images/background_1.jpg"  
	row="0" class="gridImage" height="20%" width="100%" orientation="horizontal" horizontalAlignment="center">
	<Image src="~/assets/images/evaluation-start.png" 
	       stretch="aspectFit"></Image>
      </StackLayout>

      <ScrollView row="1" class="" orientation="vertical">
	<StackLayout class="eval-stack-layout" width="100%">
	  // PAIN
	  <GridLayout class="eval-item" rows="auto, auto" columns="*, auto">
            <Label row="0" col="0" class="eval-label" text="Do you have pain from pushing?" textWrap="true"></Label>
            <SegmentedBar row="0" col="1" class="eval-segmentedBar" [items]="PushingPain" [selectedIndex]="getPushingPainIndex()" (selectedIndexChanged)="onPushingPainIndexChange($event)"></SegmentedBar>
	    <GridLayout row="1" colSpan="2"  *ngIf="getPushingPainIndex() == 0" class="eval-item" rows="auto, auto" columns="*, auto">
              <Label row="0" col="0" class="eval-slider-label" text="Pain Level:"></Label>
              <Label row="0" col="1" class="eval-slider-value-label" [text]="evaluation.pain.toFixed(0)+' / 10'"></Label>
              <Slider row="1" colSpan="2" maxValue="10" class="eval-slider" [value]="evaluation.pain" (valueChange)="onSliderUpdate('pain', $event)"></Slider>
	    </GridLayout>
	  </GridLayout>

	  // FATIGUE
	  <GridLayout class="eval-item" rows="auto, auto" columns="*, auto">
            <Label row="0" col="0" class="eval-label" text="Do you have fatigue from pushing?" textWrap="true"></Label>
            <SegmentedBar row="0" col="1" class="eval-segmentedBar" [items]="PushingFatigue" [selectedIndex]="getPushingFatigueIndex()" (selectedIndexChanged)="onPushingFatigueIndexChange($event)"></SegmentedBar>
	    <GridLayout row="1" colSpan="2"  *ngIf="getPushingFatigueIndex() == 0" class="eval-item" rows="auto, auto" columns="*, auto">
              <Label row="0" col="0" class="eval-slider-label" text="Fatigue Level:"></Label>
              <Label row="0" col="1" class="eval-slider-value-label" [text]="evaluation.fatigue.toFixed(0)+' / 10'"></Label>
              <Slider row="1" colSpan="2" maxValue="10" class="eval-slider" [value]="evaluation.fatigue" (valueChange)="onSliderUpdate('fatigue', $event)"></Slider>
	    </GridLayout>
	  </GridLayout>

	  // INDEPENDENCE
	  <GridLayout class="eval-item" rows="auto, auto" columns="*, auto">
            <Label row="0" col="0" class="eval-slider-label" text="Impact on independence:"></Label>
            <Label row="0" col="1" class="eval-slider-value-label" [text]="evaluation.independence.toFixed(0)+' / 10'"></Label>
            <Slider row="1" colSpan="2" maxValue="10" class="eval-slider" [value]="evaluation.independence" (valueChange)="onSliderUpdate('independence', $event)"></Slider>
	  </GridLayout>

	  <GridLayout class="eval-item" rows="auto, auto" columns="*, *">
            <Label col="0" text="Years in manual chair:" class="eval-label" ></Label>
            <DropDown #dd 
		      col="1"
		      hint="years"
		      class="dropdown"
		      [items]="timeFrames" 
		      (selectedIndexChanged)="selectedIndexChanged($event)"></DropDown>

            <Label row="1" col="0" text="Type of chair:" class="eval-label" ></Label>
            <DropDown #dd 
		      row="1"
		      col="1"
		      hint="chair type" 
		      class="dropdown"
		      [items]="chairTypes" 
		      (selectedIndexChanged)="selectedIndexChanged($event)" ></DropDown>
	  </GridLayout>

	  <Button (tap)="onNext()" text="Next" class="nextButton"></Button>

	</StackLayout>
      </ScrollView>
      
    </GridLayout>
  </Gradient>
</RadSideDrawer>
