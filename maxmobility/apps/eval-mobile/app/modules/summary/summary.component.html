<ActionBar class="action-bar" flat="true" [title]="'menu.summarry' | translate">
  <NavigationButton *ngIf="isIOS()"></NavigationButton>
</ActionBar>

<Gradient tkMainContent direction="to bottom" colors="#004F7E, #0070b3">
  <GridLayout rows="auto, *, auto" cols="*">

    <StackLayout backgroundImage="~/assets/images/background_1.jpg" row="0" orientation="horizontal" horizontalAlignment="center" height="20%" width="100%">
      <Image src="~/assets/images/trial-summary.png" stretch="aspectFit"></Image>
    </StackLayout>

    //First Page: Configure Trial
    <ScrollView  row="1">
      <StackLayout  class="lowerSlide" orientation="vertical" horizontalAlignment="center">

        //Heading and description
        <Label text="Summary" class="slideLowerLabel" textWrap="true"></Label>

        //Stats and Questionaire
        <StackLayout class="trial-stack-layout">
          <DockLayout stretchLastChild="false">
            <Label textWrap="true" class="summaryDescription">
              <FormattedString>
                <Span text="User performed " color= "#fff"></Span>
                <Span [text]="pushDiff.toFixed(0) + '%'" color="#43D551" fontAttributes="Bold"></Span>
                <Span text=" fewer pushes with SmartDrive." color="#fff"></Span>

              </FormattedString>

            </Label>

          </DockLayout>
          <DockLayout stretchLastChild="false">
            <Label textWrap="true" class="summaryDescription">
              <FormattedString>
                <Span text="Average coast time was " color="#fff"></Span>
                <Span [text]="coastDiff.toFixed(1)+' times ' + ((coastDiff > 1.0) ? 'higher' : 'lower')" color="#43D551" fontAttributes="Bold"></Span>
                <Span text=" with SmartDrive." color="#fff"></Span>
                
              </FormattedString>
            </Label>
          </DockLayout>
          <DockLayout stretchLastChild="false">
            
            <Label textWrap="true" class="summaryDescription">
              <FormattedString>
                <Span text="At " color= "#fff"></Span>
                <Span [text]="totalCadenceWithout.toFixed(1)" color="#FF671F" fontAttributes="Bold"></Span>
                <Span text=" pushes per minute, user's cadence is exceptionally high. Consider looking at rear wheel placement and efficient push technique." color= "#fff"></Span>
              </FormattedString>
            </Label>
          </DockLayout>
          
          //Flat Difficulty
          <DockLayout stretchLastChild="false">
            <Label text="Difficulty on Flat Surface?" class="trial-item" dock="left" textWrap="true" width="70%"></Label>
            <Switch (checkedChange)="onFlatDifficultyChecked($event)"
		    [checked]="hasFlatDifficulty"
		    dock="right"></Switch>
          </DockLayout>
          <DockLayout *ngIf="hasFlatDifficulty" stretchLastChild="false">
            <Label text="Flat Surface Difficulty" class="trial-item"></Label>
            <Label verticalAlignment="center" dock="right" class="trial-slider-value-label" style="min-width: 50" [text]="evaluation.flat_difficulty.toFixed(0) +'/10'"
                   row="0" col="1"></Label>
          </DockLayout>
          <GridLayout *ngIf="hasFlatDifficulty" rows="auto" columns="*, auto">
            <Slider maxValue="10" verticalAlignment="center" class="trial-slider" [value]="evaluation.flat_difficulty" (valueChange)="onSliderUpdate('flat_difficulty', $event)"
                    row="0" col="0"></Slider>
          </GridLayout>

          //Ramp Difficulty
          <DockLayout class="dockLayout-options" stretchLastChild="false">
            <Label text="Difficulty with ramp?" class="trial-item" dock="left" textWrap="true" width="70%"></Label>
            <Switch (checkedChange)="onRampDifficultyChecked($event)"
		    [checked]="hasRampDifficulty"
		    dock="right"></Switch>
          </DockLayout>
          <DockLayout *ngIf="hasRampDifficulty" stretchLastChild="false">
            <Label text="Ramp Difficulty" class="trial-item"></Label>
            <Label verticalAlignment="center" dock="right" class="trial-slider-value-label" style="min-width: 50" [text]="evaluation.ramp_difficulty.toFixed(0) +'/10'"
                   row="0" col="1"></Label>
          </DockLayout>
          <GridLayout *ngIf="hasRampDifficulty" rows="auto" columns="*, auto">
            <Slider maxValue="10" verticalAlignment="center" class="trial-slider" [value]="evaluation.ramp_difficulty" (valueChange)="onSliderUpdate('ramp_difficulty', $event)"
                    row="0" col="0"></Slider>
          </GridLayout>


        </StackLayout>

        <StackLayout orientation="horizontal" horizontalAlignment="center">
          <button text="Back" class="back-button" (tap)="onBack()"></button>
          <button text="Complete" class="start-button" (tap)="onNext()"></button>
        </StackLayout>

      </StackLayout>
    </ScrollView>
  </GridLayout>
</Gradient>
