<MaxActionBar [title]="'menu.demo-requests' | translate"> </MaxActionBar>

<GridLayout margin-top="30" rows="*, auto" iosOverflowSafeArea="false">
  // Loading View to show when loading demo units
  <StackLayout
    orientation="horizontal"
    marginLeft="10"
    row="0"
    rowSpan="2"
    *ngIf="!itemsLoaded"
    horizontalAlignment="center"
  >
    <label
      [text]="'demo-requests.loading' | translate"
      class="h2 text-middle text-white"
      textWrap="true"
    ></label>
    <ActivityIndicator
      busy="true"
      marginLeft="5"
      width="26"
      height="26"
      color="white"
    ></ActivityIndicator>
  </StackLayout>

  // Label when no demos are found
  <label
    row="0"
    verticalAlignment="center"
    *ngIf="!items.length && itemsLoaded"
    horizontalAlignment="center"
    [text]="'demo-requests.no-demo-requests' | translate"
    class="text-white"
  ></label>

  <!-- <ListView
  #listview
    row="0"
    backgroundColor="transparent"
    separatorColor="transparent"
    [items]="items"
    *ngIf="items.length && itemsLoaded"
    (loadMoreItems)="loadMoreItems($event)"
  > -->
  <ListView
    #listview
    row="0"
    backgroundColor="transparent"
    separatorColor="transparent"
    [items]="items"
    *ngIf="items.length && itemsLoaded"
  >
    <ng-template let-item="item" let-index="index">
      <GridLayout
        rows="auto, auto"
        columns="auto, *, *"
        (tap)="onRequestTap(index)"
        padding="10"
      >
        <Label
          [text]="item.user"
          row="0"
          colSpan="3"
          class="user"
          textWrap="true"
        ></Label>
        <Label
          [text]="item._kmd?.ect | date: 'medium'"
          row="1"
          colSpan="3"
          class="date"
          textWrap="true"
        ></Label>
      </GridLayout>
    </ng-template>
  </ListView>
  <!-- <ActivityIndicator
    width="50"
    height="50"
    horizontalAlignment="center"
    [busy]="isFetchingData && items.length >= 1"
    class="activity-indicator"
  ></ActivityIndicator> -->
</GridLayout>
