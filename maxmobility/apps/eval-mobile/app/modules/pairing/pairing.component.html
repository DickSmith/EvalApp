<ActionBar class="action-bar" flat="true" title="Connectivity">
  <NavigationButton android:visibility="collapse"></NavigationButton>
</ActionBar>


<Gradient tkMainContent direction="to bottom" colors="#004F7E, #0070b3">

  <GridLayout>

    <Carousel #carousel (loaded)="onCarouselLoad()" ios:indicatorOffset="0,-10" ios:finite="true" ios:bounce="false"
      height="100%" indicatorColor="#66ccff" indicatorColorUnselected="#cceeff">

      // For all the info / gifs:
      <CarouselItem *ngFor="let slide of slides">

        <GridLayout rows="auto, *" cols="*">

          <StackLayout row="0" class="topSlide" height="35%">
            <Gif *ngIf="slide.Image.indexOf('.gif') > -1" [src]="slide.Image" (tap)="onGifTap($event)" height="100%"
              width="135"></Gif>
          </StackLayout>

          <ScrollView row="1" class="lowerSlide" height="65%">
            <StackLayout>
              <Label [text]="slide.Label" class="label" textWrap="true"></Label>
              <Label *ngFor="let bullet of slide.Bullets" [text]="bullet" class="bullet" textWrap="true"></Label>
            </StackLayout>
          </ScrollView>

        </GridLayout>
      </CarouselItem>

      // for pushtracker settings control
      <CarouselItem>
        <GridLayout rows="auto, *" cols="*">

          <StackLayout row="0" class="topSlide" height="35%">
            <Image src="~/assets/images/pt-settings-gear.png" stretch="aspectFit"></Image>
          </StackLayout>

          <ScrollView row="1" class="lowerSlide" height="65%">
            <StackLayout>
			  // TITLE
              <Label [text]="'pushtracker.settings.label' | translate" class="label" textWrap="true"></Label>
              // EZ On
              <DockLayout stretchLastChild="false">
                <Label [text]="'pushtracker.settings.ez-on' | translate" class="setting"></Label>
                <Switch dock="right" [checked]="settings.ezOn" (checkedChange)="onSettingsChecked('ezOn', $event)"></Switch>
              </DockLayout>
              // Control Mode
              <DockLayout stretchLastChild="false">
                <Label [text]="'pushtracker.settings.control-mode.label' | translate" class="setting"></Label>
                <DropDown #controlModeDropDown [hint]="'pushtracker.settings.control-mode.label' | translate" dock="right"
                  [items]="ControlModeOptions" (selectedIndexChanged)="onSettingsDropdown('controlMode', $event)"></DropDown>
              </DockLayout>
              // Units
              <DockLayout stretchLastChild="false">
                <Label [text]="'pushtracker.settings.units.label' | translate" class="setting"></Label>
                <DropDown #unitsDropDown [hint]="'pushtracker.settings.units.label' | translate" dock="right" [items]="UnitsOptions"
                  (selectedIndexChanged)="onSettingsDropdown('units', $event)"></DropDown>
              </DockLayout>
              // Max Speed
              <DockLayout stretchLastChild="false">
                <Label [text]="'pushtracker.settings.max-speed' | translate" class="setting"></Label>
                <Label verticalAlignment="center" dock="right" [text]="settings.maxSpeed+'%'" row="0" col="1" class="value"></Label>
              </DockLayout>
              <GridLayout rows="auto" columns="*, auto">
                <Slider minValue="0" maxValue="100" verticalAlignment="center" [value]="settings.maxSpeed"
                  (valueChange)="onSettingsUpdate('maxSpeed', $event)" row="0" col="0"></Slider>
              </GridLayout>
              // Acceleration
              <DockLayout stretchLastChild="false">
                <Label [text]="'pushtracker.settings.acceleration' | translate" class="setting"></Label>
                <Label verticalAlignment="center" dock="right" [text]="settings.acceleration+'%'" row="0" col="1" class="value"></Label>
              </DockLayout>
              <GridLayout rows="auto" columns="*, auto">
                <Slider minValue="0" maxValue="100" verticalAlignment="center" [value]="settings.acceleration"
                  (valueChange)="onSettingsUpdate('acceleration', $event)" row="0" col="0"></Slider>
              </GridLayout>
              // Tap Sensitivity
              <DockLayout stretchLastChild="false">
                <Label [text]="'pushtracker.settings.tap-sensitivity' | translate" class="setting"></Label>
                <Label verticalAlignment="center" dock="right" [text]="settings.tapSensitivity+'%'" row="0" col="1"
                  class="value"></Label>
              </DockLayout>
              <GridLayout rows="auto" columns="*, auto">
                <Slider minValue="0" maxValue="100" verticalAlignment="center" [value]="settings.tapSensitivity"
                  (valueChange)="onSettingsUpdate('tapSensitivity', $event)" row="0" col="0"></Slider>
              </GridLayout>

              // Push Settings:
              <Label [text]="'pushtracker.push-settings.label' | translate" class="section"></Label>
              // Push Threshold
              <DockLayout stretchLastChild="false">
                <Label [text]="'pushtracker.push-settings.threshold' | translate" class="setting"></Label>
                <Label verticalAlignment="center" dock="right" [text]="pushSettings.threshold" row="0" col="1" class="value"></Label>
              </DockLayout>
              <GridLayout rows="auto" columns="*, auto">
                <Slider minValue="0" maxValue="10" verticalAlignment="center" [value]="pushSettings.threshold"
                  (valueChange)="onPushSettingsUpdate('threshold', $event)" row="0" col="0"></Slider>
              </GridLayout>
              // Time Window
              <DockLayout stretchLastChild="false">
                <Label [text]="'pushtracker.push-settings.time-window' | translate" class="setting"></Label>
                <Label verticalAlignment="center" dock="right" [text]="pushSettings.timeWindow" row="0" col="1" class="value"></Label>
              </DockLayout>
              <GridLayout rows="auto" columns="*, auto">
                <Slider minValue="0" maxValue="50" verticalAlignment="center" [value]="pushSettings.timeWindow"
                  (valueChange)="onPushSettingsUpdate('timeWindow', $event)" row="0" col="0"></Slider>
              </GridLayout>
              // Clear Counter
              <DockLayout stretchLastChild="false">
                <Label [text]="'pushtracker.push-settings.clear-counter' | translate" class="setting"></Label>
                <Switch dock="right" [checked]="pushSettings.clearCounter" (checkedChange)="onPushSettingsChecked('clearCounter', $event)"></Switch>
              </DockLayout>

              // Send these settings to PushTracker
              <button [text]="'pushtracker.settings.save-button' | translate" class="saveButton" (tap)="onSaveSettings($event)"></button>
            </StackLayout>
          </ScrollView>

        </GridLayout>
      </CarouselItem>

    </Carousel>
  </GridLayout>

</Gradient>
